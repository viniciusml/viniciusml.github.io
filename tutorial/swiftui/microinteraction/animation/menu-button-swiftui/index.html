<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.19.1 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Microinteractions in SwiftUI - Menu Button Animation | Vini Leal</title>
<meta name="description" content="In this article, I will show you how I implemented a menu button microinteraction in SwiftUI. ">


  <meta name="author" content="Vini Leal">


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Vini Leal">
<meta property="og:title" content="Microinteractions in SwiftUI - Menu Button Animation">
<meta property="og:url" content="https://vinileal.com/tutorial/swiftui/microinteraction/animation/menu-button-swiftui/">


  <meta property="og:description" content="In this article, I will show you how I implemented a menu button microinteraction in SwiftUI. ">



  <meta property="og:image" content="https://vinileal.com/assets/images/microinteractions-swiftui-header.png">



  <meta name="twitter:site" content="@Vini__leal">
  <meta name="twitter:title" content="Microinteractions in SwiftUI - Menu Button Animation">
  <meta name="twitter:description" content="In this article, I will show you how I implemented a menu button microinteraction in SwiftUI. ">
  <meta name="twitter:url" content="https://vinileal.com/tutorial/swiftui/microinteraction/animation/menu-button-swiftui/">

  
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://vinileal.com/assets/images/microinteractions-swiftui-header.png">
  

  



  <meta property="article:published_time" content="2020-04-12T00:00:00+02:00">





  

  


<link rel="canonical" href="https://vinileal.com/tutorial/swiftui/microinteraction/animation/menu-button-swiftui/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Vini Leal",
      "url": "https://vinileal.com/"
    
  }
</script>






<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Vini Leal Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Vini Leal
          <span class="site-subtitle">iOS Dev</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/portfolio/">Portfolio</a>
            </li><li class="masthead__menu-item">
              <a href="/about/">About</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      
  







<div class="page__hero"
  style=" background-image: url('');"
>
  
    <img src="/assets/images/microinteractions-swiftui-header.png" alt="Microinteractions in SwiftUI - Menu Button Animation" class="page__hero-image">
  
  
</div>





<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="/assets/images/vini-avatar.png" alt="Vini Leal" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Vini Leal</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>I am an iOS app developer with experience developing, testing, and deploying iPhone apps. In addition to publishing 2 apps to the App Store, I was awarded a WWDC 2019 scholarship.</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">Milan - IT</span>
        </li>
      

      
        
          
        
          
            <li><a href="https://twitter.com/Vini__leal" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i><span class="label">Twitter</span></a></li>
          
        
          
            <li><a href="https://www.linkedin.com/in/viniciusmleal/" rel="nofollow noopener noreferrer"><i class="fab fa-linkedin-in" aria-hidden="true"></i><span class="label">LinkedIn</span></a></li>
          
        
          
            <li><a href="https://github.com/viniciusml" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
          
            <li><a href="https://www.instagram.com/viniciusmleal/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i><span class="label">Instagram</span></a></li>
          
        
      

      

      
        <li>
          <a href="mailto:viniciusmoreiraleal+blog@gmail.com">
            <meta itemprop="email" content="viniciusmoreiraleal+blog@gmail.com" />
            <i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span>
          </a>
        </li>
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Microinteractions in SwiftUI - Menu Button Animation">
    <meta itemprop="description" content="In this article, I will show you how I implemented a menu button microinteraction in SwiftUI.">
    <meta itemprop="datePublished" content="2020-04-12T00:00:00+02:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Microinteractions in SwiftUI - Menu Button Animation
</h1>
          
            <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  3 minute read

</p>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
        <p>Microinteractions have become increasingly important in a world with a dizzying number of digital platforms and an ocean of content. While microinteractions used to be considered an interesting resource in the early days of digital design, in today’s hypercompetitive digital space they have become a crucial element in the overall user experience.</p>

<p>Basically, microinteraction is a particular moment of a user’s interaction with a product in order to complete a specific task. For example, when someone presses a “Like” button (whatever it looks like) and sees that their action produced a feedback - the number has changed, the color of the button has changed or it has become inactive, the text on the button reported that the action was done and so on - this is a case of microinteraction.</p>

<p>In this article, I will show you how I implemented a menu button microinteraction in SwiftUI.</p>

<p>The idea is to present a menu button with 4 horizontal lines, and, when the user taps on the button, it animates into an ‘x’ shape, to represent the option of closing the menu.</p>

<p><img src="/assets/images/menu-swiftui-example.png" alt="" class="full" /></p>

<p>I began with an empty project, enabling SwiftUI. Then I created a file with two views, like this:</p>

<script src="https://gist.github.com/viniciusml/448223728ad085697b88209e3b928a4a.js"></script>

<p>I defined a fixed frame for it, and for my purposes it can be a square shaped button. There’s a state property <code class="highlighter-rouge">isAnimating</code>, that the animations will respond to.</p>

<p>For the button body the action is simply to toggle the <code class="highlighter-rouge">isAnimating</code> property, and its label closure calls the <code class="highlighter-rouge">createMenu</code> method. Let’s take a look at it.</p>

<script src="https://gist.github.com/viniciusml/ea730fbf13027ce00b0eb4581c82023b.js"></script>

<p>There’s a lot going on here, but I’ll break it down. First, the method returns a type eraser view <code class="highlighter-rouge">AnyView</code>, and contains two properties, the <code class="highlighter-rouge">count</code>, which is the number of rows for the button, and the configuration of the menu.</p>

<p>In <code class="highlighter-rouge">menu</code> the geometry reader is used, so that we can access the width and height we have available, and, therefore, calculate the properties we need. So, 4 views are grouped, and we calculate <code class="highlighter-rouge">availableHeight</code>, <code class="highlighter-rouge">spacing</code>, <code class="highlighter-rouge">height</code> and <code class="highlighter-rouge">width</code>.</p>

<p><img src="/assets/images/menu-swiftui-example-variables.png" alt="" class="full" /></p>

<p>Then, the rectangles are created with the height and width, and we can finally configure them. Each rectangle is overlapping the other ones, so we’ll use the <code class="highlighter-rouge">offset</code> modifier and multiply the index by the available height. This way they get positioned correctly along the y axis.</p>

<p>Then I configured the animations, which are custom modifiers. I’ll get to them in a second. Finally I used the <code class="highlighter-rouge">animation</code> modifier, with a small delay and the <code class="highlighter-rouge">easeInOut</code> option, and return the menu.</p>

<h3 id="configuring-the-animations">Configuring the Animations</h3>

<p>The <code class="highlighter-rouge">MiddleMenuRect</code> is a custom modifier that handles the second and third rectangles (index ‘1’ and ‘2’). Both of them need to rotate, on opposite directions.</p>

<p>Here’s how the code look like:</p>

<script src="https://gist.github.com/viniciusml/7e3185319cc82116f46334a195601ae6.js"></script>

<p>In the body function, two modifiers are being called: <code class="highlighter-rouge">rotate</code> and <code class="highlighter-rouge">offset</code>. That’s because when the rect is rotated there’s a slight difference in position, so they need to me adjusted in order to form the ‘x’.</p>

<p>The modifiers return a value based on a condition of being the middle indexes and the <code class="highlighter-rouge">isAnimating</code> boolean.</p>

<p>For the <code class="highlighter-rouge">MarginMenuRect</code> the setup is very similar, but this time, the first and last indexes are placed as conditions and the modifiers <code class="highlighter-rouge">opacity</code> and <code class="highlighter-rouge">offset</code> are applied. While the rectangles are moved through the ‘x’ axis in different directions, the opacity is reduced, giving the idea that they were ‘removed’. Check out the code:</p>

<script src="https://gist.github.com/viniciusml/45f914bd1e607146d040d4249a52aa7b.js"></script>

<p>For better readability, the <code class="highlighter-rouge">MiddleMenuRect</code> and the <code class="highlighter-rouge">MarginMenuRect</code> view modifiers were added to an extension:</p>

<script src="https://gist.github.com/viniciusml/388fec5b42caaaceedf4bec447197fa9.js"></script>

<p>That’s it! We have a nice menu button, that when tapped turns into an ‘x’. Here’s how it looks in action:</p>

<p><img src="/assets/images/menu-swiftui-result.gif" alt="" class="full" /></p>

<p>Nice, isn’t it?</p>

<h3 id="conclusion">Conclusion</h3>

<p>Utilising microinteractions can enrich usability. The features of an app attract a user to the product, but  the details more then often make a huge difference. This was an example of how a microinteraction can be implemented in SwiftUI and give a nice touch to your apps.</p>

<p>Developing it was fun, and it was pleasant to see the animation in place. If you want to see the full code, here’s the <a href="https://gist.github.com/viniciusml/16c14939828521091aabc855dbf69875">gist</a>. Thanks for reading!</p>


        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/tags/#swiftui" class="page__taxonomy-item" rel="tag">SwiftUI</a>
    
    </span>
  </p>




  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/categories/#animation" class="page__taxonomy-item" rel="tag">Animation</a><span class="sep">, </span>
    
      
      
      <a href="/categories/#microinteraction" class="page__taxonomy-item" rel="tag">Microinteraction</a><span class="sep">, </span>
    
      
      
      <a href="/categories/#swiftui" class="page__taxonomy-item" rel="tag">SwiftUI</a><span class="sep">, </span>
    
      
      
      <a href="/categories/#tutorial" class="page__taxonomy-item" rel="tag">Tutorial</a>
    
    </span>
  </p>


        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2020-04-12T00:00:00+02:00">April 12, 2020</time></p>
        
      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?via=Vini__leal&text=Microinteractions+in+SwiftUI+-+Menu+Button+Animation%20https%3A%2F%2Fvinileal.com%2Ftutorial%2Fswiftui%2Fmicrointeraction%2Fanimation%2Fmenu-button-swiftui%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fvinileal.com%2Ftutorial%2Fswiftui%2Fmicrointeraction%2Fanimation%2Fmenu-button-swiftui%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fvinileal.com%2Ftutorial%2Fswiftui%2Fmicrointeraction%2Fanimation%2Fmenu-button-swiftui%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/tutorial/tdd/tdd-uipageviewcontroller/" class="pagination--pager" title="Test Driving UIPageViewController implementation
">Previous</a>
    
    
      <a href="#" class="pagination--pager disabled">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
          <li><a href="https://twitter.com/Vini__leal" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
          <li><a href="https://www.linkedin.com/in/viniciusmleal/" rel="nofollow noopener noreferrer"><i class="fab fa-linkedin-in" aria-hidden="true"></i> LinkedIn</a></li>
        
      
        
          <li><a href="https://github.com/viniciusml" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
      
        
      
        
          <li><a href="https://www.instagram.com/viniciusmleal/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i> Instagram</a></li>
        
      
    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2020 Vini Leal. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script src="https://kit.fontawesome.com/4eee35f757.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-142201491-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-142201491-1', { 'anonymize_ip': false});
</script>









  </body>
</html>
